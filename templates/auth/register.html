<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CALME | Register</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    background: linear-gradient(120deg,#0b3d91,#1f6fd6);
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
}
.card{
    border-radius:16px;
    box-shadow:0 10px 30px rgba(0,0,0,.25);
}
.logo{
    width:80px;
}
.btn-primary{
    background:#0b3d91;
    border:none;
}
.btn-primary:hover{
    background:#084298;
}
select, input{
    border-radius:10px!important;
}
</style>
</head>

<body>

<div class="container">
<div class="row justify-content-center">
<div class="col-md-5">

<div class="card p-4">
    <div class="text-center mb-3">
        <img src="/static/img/ada.png" class="logo mb-2">
        <h4 class="fw-bold">CALME Registration</h4>
        <small class="text-muted">Offline Leave Management System</small>
    </div>

    <form method="post">
        {% csrf_token %}

        <div class="mb-3">
            <label class="form-label">Username</label>
            <input name="username" class="form-control" placeholder="Enter username" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Password</label>
            <input type="password" name="password" class="form-control" placeholder="Enter password" required>
        </div>

        <div class="mb-3">
            <label class="form-label">User Type</label>
            <select name="role_type" id="roleType" class="form-select" required onchange="toggleRoles()">
                <option value="">Select</option>
                <option value="EMP">Employee</option>
                <option value="MAN">Manager</option>
            </select>
        </div>

        <div class="mb-3" id="empRoles" style="display:none;">
            <label class="form-label">Employee Role</label>
            <select name="designation" class="form-select">
                <option value="PA">PA</option>
                <option value="ENG">Engineer</option>
                <option value="CON">Consultant</option>
                <option value="CON">Doducument Assistence</option>
            </select>
        </div>

        <div class="mb-3" id="manRoles" style="display:none;">
            <label class="form-label">Scientist Grade</label>
            <select name="designation" class="form-select">
                <option value="SB">Scientist B</option>
                <option value="SC">Scientist C</option>
                <option value="SD">Scientist D</option>
                <option value="SE">Scientist E</option>
                <option value="SF">Scientist F</option>
                <option value="SG">Scientist G</option>
                <option value="SH">Scientist H</option>
            </select>
        </div>

        <button class="btn btn-primary w-100 mt-2">
            Register
        </button>
    </form>

    <div class="text-center mt-3">
        <small>Already registered?
            <a href="/login/">Login</a>
        </small>
    </div>
</div>

</div>
</div>
</div>

<script>
function toggleRoles(){
    let role = document.getElementById("roleType").value;
    document.getElementById("empRoles").style.display = role === "EMP" ? "block" : "none";
    document.getElementById("manRoles").style.display = role === "MAN" ? "block" : "none";
}
</script>

</body>
</html>
